<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
<title>image-recycler example</title>
<style type="text/css">
html,
body {
	width: 100%;
	height: 100%;
	margin: 0;
}
#misc {
	width: 0;
	height: 0;
	position: fixed;
	top: 0;
	left: 0;
}
</style>
<script type="text/javascript" src="image-recycler.js"></script>
</head>
<body>
<canvas id="target"></canvas>
<div id="misc">
	anything else
</div>
<script type="text/javascript">
var random_color = function () {

	var allowed = 'ABCDEF0123456789', S = '';

	while (S.length < 3) {
		S += allowed.charAt(Math.floor((Math.random() * 16) + 1));
	}

	return S;
};

var recycler = new ImageRecycler(document.getElementById('target'), function (idx) {

	var
		height = 240 + (idx % 5) * 20,
		url = 'https://dummyimage.com/320x' + height + '/' + random_color() + '/fff&text=idx_' + idx;


	return {

		url: url,
		href: url
	};

});
</script>
</body>
</html>